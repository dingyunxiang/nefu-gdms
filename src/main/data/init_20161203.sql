USE gdms;

CREATE TABLE user (
  id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
  type_id TINYINT NOT NULL COMMENT '角色',
  username VARCHAR(20) NOT NULL COMMENT '用户名',
  name VARCHAR(20) NOT NULL COMMENT '名称',
  classes VARCHAR(20)  NOT NULL COMMENT '班级',
  password VARCHAR(200) NOT NULL COMMENT '密码',
  phone VARCHAR(20) NOT NULL COMMENT '手机号',
  email VARCHAR(100) NOT NULL COMMENT '邮箱',
  tutor_id BIGINT NOT NULL COMMENT '导师ID',
  title TINYINT NOT NULL DEFAULT 0 COMMENT '教师职称',
  years INT NOT NULL DEFAULT 0 COMMENT '毕业时间',
  create_time BIGINT NOT NULL,
  update_time BIGINT NOT NULL,
  PRIMARY KEY (id),
  UNIQUE KEY uk_uname(username)
) ENGINE = InnoDB DEFAULT CHARSET =  UTF8 COMMENT = '人员信息表';

CREATE TABLE topic (
  id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
  tutor_id BIGINT NOT NULL DEFAULT 0 COMMENT '导师Id',
  stu_id BIGINT NOT NULL DEFAULT 0 COMMENT '学生Id',
  title VARCHAR(200) NOT NULL COMMENT '标题',
  file_path VARCHAR(200) NOT NULL COMMENT '文件路径',
  status TINYINT NOT NULL COMMENT '当前状态',
  years INT NOT NULL COMMENT '论文年数',
  create_time BIGINT NOT NULL,
  update_time BIGINT NOT NULL,
  PRIMARY KEY (id),
  UNIQUE KEY uk_tea_stu(tutor_id,stu_id)
) ENGINE = InnoDB DEFAULT CHARSET =  UTF8 COMMENT = '论题表';

CREATE TABLE time_period (
  id BIGINT UNSIGNED NOT NULL AUTO_INCREMENT,
  name VARCHAR(200) NOT NULL COMMENT '阶段名称',
  begin_time BIGINT NOT NULL,
  end_time BIGINT NOT NULL,
  PRIMARY KEY (id)
) ENGINE = InnoDB DEFAULT CHARSET =  UTF8 COMMENT = '阶段周期表';

